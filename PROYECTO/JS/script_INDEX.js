var products = [
    {
        "name": "Super Mario Bros",
        "image": "../IMG/i1.jpg",
        "description": "Un juego de Mario para hasta cuatro jugadores, con cinco personajes jugables",
        "price": 799,
        "details": [
            "* Un juego de Mario para hasta cuatro jugadores, con cinco personajes jugables; el primer papel protagonizado de Luigi en una aventura de plataformas, Super Luigi U, esta recibiendo el tratamiento de lujo tambien y viene empaquetado",
            "",
            "* Un solo controlador Joy-Con es todo lo que cada jugador necesita; disfruta de 164 cursos para hasta cuatro jugadores en cualquier momento y en cualquier lugar",
            "",
            "* Mario, Luigi y Toad están aqui y si eso no es suficiente, Nabbit y Toadette tambien se unen a la diversion; el nabbit no recibe danos de los enemigos, lo que realmente puede ser util",
            "",
            "* Compatible solo con Nintendo Switch",
            "",
            "* Los productos internacionales tienen terminos separados, se venden desde el extranjero y pueden diferir de los productos locales, incluyendo ajuste, calificaciones de edad e idioma del producto, etiquetado o instrucciones.",
            ""
        ]
    },
    {
        "name": "The Legend of Zelda: Breath of the Wild",
        "image": "../IMG/i2.jpg",
        "description": "Entra en un mundo de descubrimiento, exploración y aventura en The Legend of Zelda: Breath of the Wild",
        "price": 1199,
        "details": [
            "* Entra en un mundo de descubrimiento, exploración y aventura en The Legend of Zelda: Breath of the Wild",
            "",
            "* Explora un mundo de tamaño sin precedentes y descubre más de 100 santuarios llenos de rompecabezas, además de una amplia variedad de armas, trajes y equipos",
            "",
            "* Sube torres y picos de montaña en busca de destinos, luego establece tu propio camino para llegar allí y sumergirte en el desierto; a lo largo del camino, lucharás contra enemigos imponentes, cazarás bestias salvajes y reunirás ingredientes para la comida y los elixires que necesitarás para sostenerte en tu viaje",
            "",
            "* Los santuarios puntean el paisaje, esperando ser descubierto en cualquier orden que desees; búscalos de varias maneras y resuelve una variedad de rompecabezas en el interior; trabaja a tu camino a través de las trampas y dispositivos en el interior para ganar artículos especiales y otras recompensas que te ayudarán en tu aventura",
            "",
            "* Disfruta de la aventura en el televisor o escapa a Hyrule sobre la marcha en modo de mano. Compatible solo con Nintendo Switch",
            ""
        ]
    },
    {
        "name": "Grand Theft Auto V",
        "image": "../IMG/i3.jpeg",
        "description": "El mejor juego de mundo abierto que Rockstars pudo crear!",
        "price": 799,
        "details": [
            "* Impresionantes visuales: niveles mejorados de fidelidad y rendimiento con nuevos modos gráficos con resolución de hasta 4K, hasta 60 fotogramas por segundo, opciones HDR, trazado de rayos, calidad de textura mejorada",
            "",
            "* Carga más rápida: acceso más rápido a la acción mientras el mundo de Los Santos y Blaine County se carga más rápido que nunca",
            "",
            "* Disparadores adaptables y retroalimentación háptica: siente cada momento a través del controlador DualSense, desde daños direccionales hasta efectos climáticos, superficies rugosas de carretera hasta explosiones y mucho más",
            "",
            "* Audio 3D más templado: escucha los sonidos del mundo con precisión precisa: el acelerador de un supercoche robado, el sonajero de disparos vecinos, el rugido de un helicóptero sobre la cabeza y mucho más",
            ""
        ]
    },
    {
        "name": "Minecraft",
        "image": "../IMG/i4.jpg",
        "description": "Minecraft es un juego para colocar bloques y ir de aventuras",
        "price": 599,
        "details": [
            "* Minecraft es un juego para colocar bloques y ir de aventuras",
            "",
            "* Explora mundos generados al azar y construye cosas increíbles desde los hogares más simples hasta los castillos más grandes",
            "",
            "* Juega en modo creativo con recursos ilimitados o mina profundamente en el mundo en modo de supervivencia, elaborando armas y armaduras para evitar las peligrosas mobs",
            "",
            "* Juega sobre la marcha en modos de mano o mesa",
            "",
            "* Incluye Super Mario Mash-Up, paquete de textura natural, paquete de piel Biome Settlers Skin Pack, Battle & Beasts Skin Pack; compatible solo con Nintendo Switch",
            ""
        ]
    },
    {
        "name": "Gears Of War 3",
        "image": "../IMG/i5.jpg",
        "description": "Salva la humanidad de los Locust",
        "price": 400,
        "details": [
            "* Gears of War 3 es el espectacular punto final de una de las sagas de videojuegos más memorables. Desarrollado por Epic Games en exclusiva para Xbox 360, Gears of War 3 sumerge a los jugadores en una desgarradora historia de esperanza, supervivencia y fraternidad.",
            "",
            "*En Gears of War 3, los jugadores se convierten en Marcus Fenix, héroe de guerra y líder del pelotón Delta. Dieciocho meses después de la caída del último bastión humano, la guerra contra los Locust continúa. Mientras, bajo la superficie, una temible amenaza infecta el planeta. Con los supervivientes desperdigados y la civilización en ruinas, a Marcus y a sus camaradas les queda poco tiempo para salvar a la humanidad.",
            ""
        ]
    },
    {
        "name": "Call of Duty: Black Ops 2",
        "image": "../IMG/i6.jpg",
        "description": "Call of Duty: Black ops II es la secuela del éxito de taquilla de 2010 Black Ops",
        "price": 450,
        "details": [
            "* Call of Duty®: Black Ops II supera los límites de lo que los fans podían esperar de la franquicia más exitosa del sector del entretenimiento, y adentra a los jugadores en un futuro próximo, la Guerra Fría del siglo XXI, donde la tecnología y las armas se unen para crear una nueva generación de guerra. ",
            ""
        ]
    },
    {
        "name": "Assassin's Creed Valhalla",
        "image": "../IMG/i7.jpg",
        "description": "Lidera incursiones vikingas épicas contra tropas y fortalezas sajonas",
        "price": 999,
        "details": [
            "* Lidera incursiones vikingas épicas contra tropas y fortalezas sajonas",
            "",
            "* Revive el estilo de lucha visceral de los vikingos mientras haces armas potentes de doble mango",
            "",
            "* Desafíate con la colección más variada de enemigos jamás en Assassin's Creed",
            "",
            "* Dale forma al crecimiento de tu personaje y el asentamiento de tu clan con cada elección que hagas",
            "",
            "* Explora un mundo abierto de la Edad oscura, desde las duras costas de Noruega hasta los hermosos reinos de Inglaterra",
            ""
        ]
    },
    {
        "name": "Red Dead Redemption 2",
        "image": "../IMG/i8.jpg",
        "description": "Los juegos Rockstar del mundo más profundo y complejo jamás han creado",
        "price": 799,
        "details": [
            "* De los creadores de Grand Theft Auto V y Red Dead Redemption",
            "",
            "* Los juegos Rockstar del mundo más profundo y complejo jamás han creado",
            "",
            "* Cubre una amplia gama de paisajes estadounidenses del siglo XIX",
            "",
            "* Juega como Arthur Morgan, líder en la famosa banda Van der Linde",
            "",
            "* Interactúa con cada personaje del mundo con algo más que solo tu pistola; participa en conversaciones con personas que conoces. Tus acciones influyen en el honor de Arthur; los caballos son el mejor amigo de un vaquero, tanto el transporte como el compañero personal; une con tu caballo mientras conduces juntos para desbloquear nuevas habilidades",
            ""
        ]
    },
    {
        "name": "Halo: Infinite",
        "image": "../IMG/i9.jpg",
        "description": "La legendaria serie Halo regresa con una innovadora experiencia multijugador y la campaña Master Chief más amplia hasta el momento.",
        "price": 1099,
        "details": [
            "* Contenido adicional: pide Halo Infinite y recibe la exclusiva piel de rifle de comando VK78 solo mientras duren suministros. Los códigos se distribuirán después de realizar el pedido elegible. En algunos casos, puede tardar hasta 24 horas después de la fecha de lanzamiento para distribuir los códigos disponibles.",
            "",
            "* La legendaria serie Halo regresa con una innovadora experiencia multijugador y la campaña Master Chief más amplia hasta el momento.",
            "",
            "* Campaña: cuando toda esperanza se pierde y el destino de la humanidad cuelga en el equilibrio, el Master Chief está listo para enfrentar al enemigo más despiadado que jamás haya enfrentado. Entra en la armadura del mejor héroe de la humanidad para experimentar una aventura épica y explorar la escala masiva del anillo Halo.",
            ""
        ]
    },
    {
        "name": "Cyberpunk 2077",
        "image": "../IMG/i910.jpg",
        "description": "Cyberpunk 2077 es una historia de acción y aventura de mundo abierto ambientada en Night City",
        "price": 899,
        "details": [
            "* Cyberpunk 2077 es una historia de acción y aventura de mundo abierto ambientada en Night City",
            "",
            "* Conviértete en un ciberpunk, un mercenario urbano equipado con mejoras cibernéticas y construye tu leyenda en las calles de Night City",
            "",
            "* Toma el trabajo más arriesgado de tu vida y sigue después de un implante prototipo que es la clave de la inmortalidad",
            ""
        ]
    },
    {
        "name": "God of War",
        "image": "../IMG/i911.jpg",
        "description": "Únete a Kratos y Atreus en un viaje mítico en busca de respuestas y aliados antes de que Ragnarök llegue.",
        "price": 999,
        "details": [
            "* Clasificación del juego: C Adultos +18 Años",
            "",
            "* Juntos, Kratos y Atreus se aventuran en cada uno de los nueve reinos en busca de respuestas mientras las fuerzas de Asgard se preparan para la guerra. A lo largo del camino, explorarán asombrosos paisajes mitológicos, reunirán aliados de los reinos y se enfrentarán a temibles enemigos con forma de monstruos y dioses nórdicos.",
            "",
            "* A medida que se acerca la amenaza del Ragnarök, Kratos y Atreus tendrán que elegir entre la seguridad de su familia y la de los reinos…",
            "",
            "* Atreus busca información que lo ayude a comprender la profecía de Loki y el papel que desempeñará en el Ragnarök. Kratos debe decidir entre quedarse atado al miedo de repetir sus errores o librarse del pasado para ser el padre que Atreus necesita.",
            "",
            "* El hacha Leviatán, las Espadas del Caos y el Escudo de guardián regresan junto con una amplia variedad de nuevas habilidades para Kratos y Atreus. Al enfrentarse a dioses y monstruos en su viaje por los nueve reinos, Kratos pondrá a prueba sus letales habilidades espartanas como nunca antes en la lucha por proteger a su familia.",
            "",
            "* Viaja a increíbles y peligrosos entornos y enfréntate a un montón de diferentes criaturas, monstruos y dioses nórdicos, mientras Kratos y Atreus buscan respuestas y aliados.",
            ""
        ]
    },
    {
        "name": "Final Fantasy VII Remake",
        "image": "../IMG/i912.jpg",
        "description": "Sumérgete en la ciudad de Midgar como nunca antes, con texturas, iluminación y entornos de fondo mejorados",
        "price": 1199,
        "details": [
            "* Sumérgete en la ciudad de Midgar como nunca antes, con texturas, iluminación y entornos de fondo mejorados.",
            "",
            "* Los jugadores pueden cambiar entre dos modos de juego: - modo de gráficosPrioriza gráficos 4K de alta resolución y - modo de rendimientoPrioriza acción fluida a 60 fotogramas por segundo",
            "",
            "* Capture y comparta sus momentos memorables del juego con un modo de fotografía totalmente personalizable",
            "",
            "* Los jugadores pueden disfrutar de batallas inmersivas usando el controlador PlayStation 5 de doble sentido con su integración de retroalimentación háptica",
            "",
        ]
    },
    {
        "name": "Resident Evil 4",
        "image": "../IMG/i913.jpg",
        "description": "La última vez que vimos a Leon S. Kennedy en Resident Evil 2, un policía novato en Raccoon City, lucha por mantenerse con vida.",
        "price": 399,
        "details": [
            "* En Resident Evil 4 conocerás un nuevo tipo de terror, ya que la clásica acción de terror y supervivencia regresa con personajes, controles e historias completamente nuevos",
            ""
        ]
    },
    {
        "name": "Pokemon Sword and Shield",
        "image": "../IMG/i914.jpg",
        "description": "Conviértase en un entrenador de Pokémon y emprenda un nuevo viaje en la nueva región de Galar Una nueva generación de Pokémon está llegando al sistema Nintendo Switch. ",
        "price": 999,
        "details": [
            "* Conviértase en un entrenador de Pokémon y emprenda un nuevo viaje en la nueva región de Galar",
            "",
            "* Una nueva generación de Pokémon está llegando al sistema Nintendo Switch.",
            "",
            "* En esta nueva aventura, encontrarás Pokémon nuevos y familiares mientras atrapas, combates e intercambias Pokémon mientras exploras nuevas áreas y descubres una historia completamente nueva.",
            ""
        ]
    },
    {
        "name": "Resident Evil Village",
        "image": "../IMG/i915.jpg",
        "description": "Experimenta el terror de supervivencia como nunca antes en Resident Evil village.",
        "price": 799,
        "details": [
            "* Una nueva perspectiva: mira la octava entrada central en la serie Resident Evil desde un nuevo punto de vista en <Modo de tercera persona> Además de los intensos jugadores de vista en primera persona disfrutados en el lanzamiento inicial de Resident Evil Village, ahora pueden ver a Ethan en acción y experimentar su viaje desde un nuevo ángulo en Resident Evil Village Gold Edition y la expansión de invierno.",
            "",
            "* La historia continúa: <Shadows of Rose> reanuda la saga familiar Winters 16 años después de los eventos de Resident Evil Village. El nuevo cuento de la expansión sigue a Rose Winters, la hija del principal protagonista Ethan, mientras lucha con sus poderes aterradores. Explora el mundo deformado y retorcido dentro de la conciencia del Megamycete en busca de una cura.",
            "",
            "* Los mercenarios están de vuelta y más grandes que nunca: el amado modo de batalla el reloj, <The Mercenaries>, regresa con nuevas características. Además del contenido original.",
            ""
        ]
    },
    {
        "name": "The Witcher 3: Wild Hunt",
        "image": "../IMG/i916.jpg",
        "description": "La edición completa contiene el juego base, ofreciendo una enorme aventura de más de 100 horas de duración, al mundo abierto",
        "price": 799,
        "details": [
            "* EL JUEGO MÁS GALARDONADO DE TODA UNA GENERACIÓN - Eres Geralt de Rivia, cazador de monstruos. En un continente devastado por la guerra e infestado de criaturas, tu misión es encontrar a Ciri, la niña de la profecía, un arma viviente que puede alterar el mundo tal y como lo conocemos.",
            "",
            "* ¡Contempla el siniestro mundo de fantasía del continente como nunca antes! Esta edición de The Witcher 3: Wild Hunt ha sido mejorada con numerosos efectos visuales y mejoras técnicas, incluidos un nivel de detalle perfeccionado, tiempos de carga más rápidos, una gran variedad de mods creados y recién desarrollados por la comunidad, trazado de rayos en tiempo real, compatibilidad con sonido 3D y mucho más, todo ello implementado pensando en la potencia de PlayStation 5.",
            "",
        ]
    },
    {
        "name": "Super Smash Bros. Ultimate",
        "image": "../IMG/i917.jpg",
        "description": "Luchadores y mundos de juego legendarios chocan en el enfrentamiento definitivo: ¡una nueva entrada en la serie Super Smash Bros. para el sistema Nintendo Switch",
        "price": 999,
        "details": [
            "* ¡una nueva entrada en la serie Super Smash Bros. para el sistema Nintendo Switch !",
            "",
            "* Nuevos luchadores, como Inkling de la serie Splatoon y Ridley de la serie Metroid, hacen su debut en la serie Super Smash Bros",
            "",
            "* Combates rápidos, nuevos elementos, nuevos ataques, nuevas opciones defensivas y más mantendrán la batalla en rabia, ya sea que estés en casa o en movimiento",
            ""
        ]
    },
    {
        "name": "Apex Legends",
        "image": "../IMG/i918.jpg",
        "description": "Bienvenido a APEX Legends. Científicos. Aventureros. Curiosidades. En tiempos de crisis mundial",
        "price": 0,
        "details": [
            "* Bienvenido a APEX Legends  Domina una creciente lista de poderosas leyendas, cada una con su propia personalidad, fortalezas y habilidades que son fáciles de recoger pero desafiantes para dominar realmente",
            ""
        ]
    },
    {
        "name": "FIFA 22",
        "image": "../IMG/i919.jpg",
        "description": "Con EA SPORTS FIFA 23, vivirás aún más toda la emoción y el realismo del deporte rey en las canchas gracias a los avances de la tecnología HyperMotion2",
        "price": 1199,
        "details": [
            "* Disfruta de una nueva forma de jugar y crea la plantilla de tus sueños en FIFA Ultimate Team con los Momentos de FUT y con un sistema de química renovado",
            "",
            "* Copa Mundial de la FIFA:Vive las máximas competencias del futbol internacional con la Copa Mundial de la FIFA Catar 2022 y la Copa Mundial Femenina de la FIFA Australia y Nueva Zelanda 2023.",
            "",
            "* Incluye contenido exclusivo de Peace & Love: Uniforme de fut en el juego, items estéticos de estadio en el juego para tu club en fifa 23 ultimate team. Sólo si se vende y se envía desde Amazon México.",
            ""
        ]
    },
    {
        "name": "Marvel's Spider-Man: Miles Morales",
        "image": "../IMG/i920.jpg",
        "description": "Visita una Nueva York de Marvel más amplia Explora una Nueva York de Marvel más grande que nunca, que incluye dos nuevos distritos",
        "price": 999,
        "details": [
           "* Incluye comic book (físico) precuela de Marvel’s Spider-man 2",
           "",
           "* MARVEL’S SPIDER-MAN 2 Edición de Lanzamiento incluye: Juego completo para consola PS5 y DLC de contenido digital.",
           "",
           "* Los Spider-Men, Peter Parker y Miles Morales, regresan en una nueva y emocionante aventura en la franquicia de Marvel’s Spider-Man aclamada por la crítica.",
           "",
           "* Una evolución de la historia de Spider-Man El increíble poder del simbionte obliga a Peter y Miles a enfrentar la prueba definitiva de fuerza, con la máscara tanto como sin ella.",
           "",
           "* Usa las habilidades del nuevo simbionte de Peter y los explosivos poderes de veneno bioeléctricos de Miles, y descubre equipo de alta tecnología actualizable que mejora la experiencia de combate para una amplia profundidad y variedad de juego.",
           ""
        ]
    },
    {
        "name": "Gran Turismo 7 - Standard Edition",
        "image": "../IMG/i921.jpg",
        "description": "encuentre tu camino con una asombrosa colección de modos de juego que incluyen los favoritos de los fanáticos",
        "price": 1199,
        "details": [
            "* Gran Turismo 7 se basa en 25 años de experiencia para ofrecerte las mejores características de la historia de la franquicia.",
            "",
            "* Con la reintroducción del legendario modo de simulación GT, compra, afina, vende y compite tu camino a través de una gratificante campaña en solitario mientras desbloqueas nuevos autos y desafíos.",
            "",
            "* Con más de 420 autos disponibles en Brand Central y el concesionario de autos usados desde el primer día, Gran Turismo 7 recrea la apariencia de los motores clásicos y los superdeportivos de última generación con un detalle incomparable.",
            ""
        ]
    }

];

var productList = document.getElementById("product-list");

products.forEach(function(product) {
    var productElement = document.createElement("div");
    productElement.className = "product";

    var imageElement = document.createElement("img");
    imageElement.src = product.image;
    productElement.appendChild(imageElement);

    var nameElement = document.createElement("h3");
    nameElement.textContent = product.name;
    productElement.appendChild(nameElement);

    var descriptionElement = document.createElement("p");
    descriptionElement.textContent = product.description;
    productElement.appendChild(descriptionElement);

    productElement.addEventListener("click", function() {
        showProductDetails(product);
    });

    productList.appendChild(productElement);
});

function showProductDetails(product) {
    var detailsContainer = document.getElementById("product-details");
    var detailsImage = document.getElementById("product-details-image");
    var detailsName = document.getElementById("product-details-name");
    var detailsDescription = document.getElementById("product-details-description");

    detailsImage.src = product.image;
    detailsName.textContent = product.name;
    detailsDescription.innerHTML = "";

    product.details.forEach(function(detail) {
        var detailElement = document.createElement("p");
        detailElement.textContent = detail;
        detailsDescription.appendChild(detailElement);
    });

    detailsContainer.style.display = "block";
}


function hideProductDetails() {
    var detailsContainer = document.getElementById("product-details");
    detailsContainer.style.display = "none";
}

var cancelButton = document.getElementById("product-details-cancel");
cancelButton.addEventListener("click", function() {
    hideProductDetails();
});

var buyButton = document.getElementById("product-details-button");
buyButton.addEventListener("click", function() {
    console.log("¡Producto comprado!");
});

var buyButton = document.getElementById("product-details-button");
buyButton.addEventListener("click", function() {
    addToCart(); 
});

var cartItems = [];

function addToCart() {
    var detailsName = document.getElementById("product-details-name").textContent;
    var product = products.find((item) => item.name === detailsName);
    cartItems.push(product);

    localStorage.setItem("cart", JSON.stringify(cartItems));

    alert("¡Producto agregado al carrito!");
    updateCartCounter(); 
}

function updateCartCounter() {
    var cartCounter = document.getElementById("cart-counter");
    cartCounter.textContent = cartItems.length;
}

var savedCart = localStorage.getItem("cart");
if (savedCart) {
    cartItems = JSON.parse(savedCart);
    updateCartCounter();
}

function equalizeProductHeight() {
    const products = document.getElementsByClassName("product");
    let maxHeight = 0;

    for (let i = 0; i < products.length; i++) {
        products[i].style.height = "auto";
        const productHeight = products[i].offsetHeight;
        if (productHeight > maxHeight) {
            maxHeight = productHeight;
        }
    }

    for (let i = 0; i < products.length; i++) {
        products[i].style.height = `${maxHeight}px`;
    }
}

window.addEventListener("load", equalizeProductHeight);
window.addEventListener("resize", equalizeProductHeight);

function toggleDescription(event) {
    const productDetailsDescription = document.getElementById("product-details-description");
    const readMoreButton = document.getElementById("read-more-button");

    if (productDetailsDescription.classList.contains("expanded")) {
        productDetailsDescription.classList.remove("expanded");
        readMoreButton.textContent = "Ver más";
    } else {
        productDetailsDescription.classList.add("expanded");
        readMoreButton.textContent = "Ver menos";
    }
}

const readMoreButton = document.getElementById("read-more-button");
readMoreButton.addEventListener("click", toggleDescription);
